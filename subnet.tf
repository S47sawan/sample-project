#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Subnet Variables
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
variable "subnets" {
  description = "This is a map of private and public subnets"
  default     = {}
}
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Subnet Resource
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
resource "aws_subnet" "env_subnets" {
  for_each          = var.subnets
  vpc_id            = aws_vpc.env-dev[0].id
  cidr_block        = lookup(each.value, "cidr", "")
  availability_zone = lookup(each.value, "Availability zone", "")

  tags = merge(local.common_tags,
    {
      Name = lookup(each.value,"name","")
    }
  )
}